@mixin triangle($size: 2rem, $background: $davy-grey) {
  &,
  &::before,
  &::after {
    width: $size;
    height: $size;
  }
  position: relative;
  overflow: hidden;
  transform: translateY(50%) rotate(30deg) skewY(30deg) scaleX(0.866);
  pointer-events: none;
  border-radius: 20%;

  &::before,
  &::after {
    content: '';
    position: absolute;
    background: $background;
    pointer-events: auto;
  }

  &::before {
    // prettier-ignore
    transform: scaleX(1.155) skewY(-30deg) rotate(-30deg) translateY(-42.3%) skewX(30deg) scaleY(0.866) translateX(-24%);
    border-radius: 20% 20% 20% 55%;
  }

  &::after {
    // prettier-ignore
    transform: scaleX(1.155) skewY(-30deg) rotate(-30deg) translateY(-42.3%) skewX(-30deg) scaleY(0.866) translateX(24%);
    border-radius: 20% 20% 55% 20%;
  }
}

.o-player {
  $root: &;
  padding-bottom: (526 / 934) * 100%;
  position: relative;

  video,
  iframe {
    left: 0;
    position: absolute;
    top: 0;
    width: 100%;
    height: 100%;
  }

  &-r10 {
    border-radius: rem(10);
    overflow: hidden;
  }

  &-shadow {
    box-shadow: 0 rem(4) rem(36) rgba($black, 0.25);
  }

  &_execute {
    cursor: pointer;
    height: 100%;
    left: 0;
    opacity: 1;
    position: absolute;
    top: 0;
    transition: all $transition linear;
    visibility: visible;
    width: 100%;
    @include adjust-flex();

    .a-icon {
      transition: all $transition linear;
    }

    &:hover {
      .a-icon {
        transform: scale(1.125);
      }
    }
  }

  &-playing {
    #{$root}_execute {
      opacity: 0;
      visibility: hidden;
    }
  }
  @include tablet-down {
    #{$root}_play {
      width: rem(60);
      height: rem(60);
    }

    #{$root}_icon {
      position: absolute;
      bottom: rem(18);
      left: rem(10);
    }
    #{$root}_triangle {
      @include triangle(40px, var(--theme));
    }
  }
  @include mobile-down {
    #{$root}_play {
      width: rem(40);
      height: rem(40);
    }
    #{$root}_icon {
      position: absolute;
      bottom: rem(13);
      left: rem(7);
    }
    #{$root}_triangle {
      @include triangle(25px, var(--theme));
    }
  }
  &_play {
    position: relative;
    background: $white;
    width: rem(80);
    height: rem(80);
    border-radius: 50%;
    transform: rotate(90deg);
  }
  &_icon {
    position: absolute;
    bottom: rem(20);
    left: rem(10);
  }

  &_triangle {
    @include triangle(60px, var(--theme));
  }
}
